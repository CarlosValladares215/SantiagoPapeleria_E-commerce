<div class="space-y-6">
    <!-- Header Card -->
    <div class="bg-white rounded-lg shadow-sm border border-gray-100 p-8">
        <div class="flex flex-col gap-6">
            <!-- Title Section -->
            <div>
                <h1 class="text-2xl font-bold text-[#0f4c75] mb-1 flex items-center gap-2">
                    <i class="ri-heart-3-fill text-rose-500"></i> Mis Favoritos
                </h1>
                <p class="text-gray-500 text-sm">
                    Guardaste {{ products.length }} productos para después
                </p>
            </div>

            <!-- Divider -->
            <div class="h-px bg-gray-100 w-full"></div>

            <!-- Filter Tabs -->
            <div class="flex flex-wrap gap-2">
                @for (filter of filters; track filter.value) {
                <button (click)="setFilter(filter.value)"
                    class="px-4 py-2 rounded-full text-xs font-bold transition-all flex items-center gap-2 uppercase tracking-wide"
                    [class]="activeFilter === filter.value 
                        ? 'bg-[#0f4c75] text-white shadow-md shadow-blue-900/10' 
                        : 'bg-gray-50 text-gray-600 hover:bg-gray-100 border border-gray-200'">
                    {{ filter.label }}
                    @if (filter.count !== undefined) {
                    <span class="px-1.5 py-0.5 rounded-full text-[10px]"
                        [class]="activeFilter === filter.value ? 'bg-white/20 text-white' : 'bg-gray-200 text-gray-600'">
                        {{ filter.count }}
                    </span>
                    }
                </button>
                }
            </div>
        </div>
    </div>

    <!-- Products Grid -->
    <!-- If Empty -->
    @if (products.length === 0) {
    <div class="bg-white rounded-lg shadow-sm border border-gray-100 p-12 text-center">
        <div class="w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400">
            <i class="ri-heart-add-line text-3xl"></i>
        </div>
        <h3 class="text-lg font-bold text-[#0f4c75]">No hay favoritos guardados</h3>
        <p class="text-sm text-gray-500 mt-1 mb-6">Explora nuestro catálogo para añadir productos a tu lista de deseos.
        </p>
        <a routerLink="/products"
            class="inline-block bg-[#f2cb07] hover:bg-[#e0bc06] text-[#012e40] font-bold py-2.5 px-6 rounded-md shadow-sm transition-all">
            Ir a Productos
        </a>
    </div>
    }

    <!-- If Products -->
    @if (products.length > 0) {
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6 animate-fade-in-up">
        @for (product of products; track product._id) {
        <app-product-card [product]="product" (viewDetails)="navigateToProduct($event)"
            (addToCart)="handleAddToCart($event)"></app-product-card>
        }
    </div>
    }
</div>