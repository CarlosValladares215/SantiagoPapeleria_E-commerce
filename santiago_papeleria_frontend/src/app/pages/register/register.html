<div class="min-h-screen bg-gray-50 flex flex-col items-center py-10 px-4 sm:px-6 lg:px-8">

    <!-- Breadcrumb -->
    <nav class="flex items-center gap-2 mb-6 text-xs text-[#104D73]/80 w-full max-w-4xl">
        <a routerLink="/" class="hover:text-[#F2CB07] transition-colors">Inicio</a>
        <span class="material-symbols-outlined text-[10px]">chevron_right</span>
        <span class="text-[#104D73] font-bold">Registro</span>
    </nav>

    <div [formGroup]="registerForm"
        class="w-full max-w-4xl bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-100">

        <div class="p-8 pb-4 bg-gray-50/50 border-b border-gray-100">
            <div class="flex items-center justify-between mb-4">
                <div>
                    <h3 class="font-bold text-brand-blue-dark uppercase tracking-tight text-sm">
                        Registro de Usuario
                    </h3>
                    <p class="text-xs text-gray-500">
                        Paso {{ currentDisplayStep }} de {{ totalSteps }}
                    </p>
                </div>
                <div class="text-right">
                    <p class="text-lg font-black text-brand-blue">{{ progressPercentage }}%</p>
                </div>
            </div>
            <div class="h-2 w-full bg-gray-200 rounded-full overflow-hidden">
                <div class="h-full bg-brand-yellow transition-all duration-500 ease-out"
                    [style.width.%]="progressPercentage">
                </div>
            </div>
        </div>

        <div class="p-0 flex flex-col min-h-[500px]">
            <!-- Step 1: Account Type -->
            <app-step-account-type *ngIf="currentStep === 1" [isSubmitting]="isSubmitting" (next)="nextStep()"
                class="flex-1 flex flex-col">
            </app-step-account-type>

            <!-- Step 2: Personal Info -->
            <app-step-personal-info *ngIf="currentStep === 2" [isSubmitting]="isSubmitting" (next)="nextStep()"
                (back)="prevStep()" class="flex-1 flex flex-col">
            </app-step-personal-info>

            <!-- Step 3: Business Info (Only for Mayorista) -->
            <app-step-business-info *ngIf="currentStep === 3" [isSubmitting]="isSubmitting" (next)="nextStep()"
                (back)="prevStep()" class="flex-1 flex flex-col">
            </app-step-business-info>

            <!-- Step 4: Shipping Location -->
            <app-step-shipping-location *ngIf="currentStep === 4" [isSubmitting]="isSubmitting" (submit)="onSubmit()"
                (back)="prevStep()" class="flex-1 flex flex-col">
            </app-step-shipping-location>
        </div>

    </div>
</div>